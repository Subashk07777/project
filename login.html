<html>
    <head>
        <title>login page</title>
        <link rel="stylesheet" href="color.css">
    </head>
    <body>
                <div class="box">
            <div class="form">
                <h2>Login Form</h2>
                <br>
                <form>

                    <div class="inputbox">
                        User
                        <input type="text" value="" id="username" required>
                        <br>
                    </div>

                    <div class="inputbox">
                        E-mail
                        <input type="email" value="" id="email" required>
                        <br>
                    </div>

                    <div class="inputbox">
                    Mobile
                    <input type="text" value="" id="phone" required>
                    <br>
                    </div>
                  <center>
                <input type="submit" value="submit" class="sub" id="submit">
                  </center>

                </form>

              
                
                <script type="module">
                    // Import the functions you need from the SDKs you need
                    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
                    import{getDatabase, ref, set, get, child} from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";
                    // TODO: Add SDKs for Firebase products that you want to use
                    // https://firebase.google.com/docs/web/setup#available-libraries
                  
                    // Your web app's Firebase configuration
                    const firebaseConfig = {
                      apiKey: "AIzaSyBLK2PjRgTWIajAiGtUJXFXVeCFehYAa5U",
                      authDomain: "loginpage-88553.firebaseapp.com",
                      projectId: "loginpage-88553",
                      storageBucket: "loginpage-88553.appspot.com",
                      messagingSenderId: "665291620619",
                      appId: "1:665291620619:web:e7dd6e595f14cc4f7b220e"
                    };
                  
                    
 
  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
     
        //get ref to database services
                  const db = getDatabase(app);
     
                  document.getElementById("submit").addEventListener('click', function(e){
                   e.preventDefault();
                   const username = document.getElementById("username").value.trim();
                    const email = document.getElementById("email").value.trim();
                    const phone = document.getElementById("phone").value.trim();

                    // Check if any of the fields are empty
                    if (username === "" || email === "" || phone === "") {
                        alert("Please fill in all the required fields.");
                        return; // Exit the function early if any field is empty
                    }
                   set(ref(db, 'user/' + document.getElementById("username").value),
                   {
        
                     username: document.getElementById("username").value,
                     email: document.getElementById("email").value,
                     PhoneNumber: document.getElementById("phone").value
     
                    }).then(() => {
            
            window.location.href = "index.html";
        }).catch((error) => {
            console.error("Error writing document: ", error);
        });
    });
             </script>
                   
    </body>
    
</html>